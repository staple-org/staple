{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.default = calculatePosition;\n\nvar _offset = require('dom-helpers/query/offset');\n\nvar _offset2 = _interopRequireDefault(_offset);\n\nvar _position = require('dom-helpers/query/position');\n\nvar _position2 = _interopRequireDefault(_position);\n\nvar _scrollTop = require('dom-helpers/query/scrollTop');\n\nvar _scrollTop2 = _interopRequireDefault(_scrollTop);\n\nvar _ownerDocument = require('./ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getContainerDimensions(containerNode) {\n  var width = void 0,\n      height = void 0,\n      scroll = void 0;\n\n  if (containerNode.tagName === 'BODY') {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    scroll = (0, _scrollTop2.default)((0, _ownerDocument2.default)(containerNode).documentElement) || (0, _scrollTop2.default)(containerNode);\n  } else {\n    var _getOffset = (0, _offset2.default)(containerNode);\n\n    width = _getOffset.width;\n    height = _getOffset.height;\n    scroll = (0, _scrollTop2.default)(containerNode);\n  }\n\n  return {\n    width: width,\n    height: height,\n    scroll: scroll\n  };\n}\n\nfunction getTopDelta(top, overlayHeight, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerScroll = containerDimensions.scroll;\n  var containerHeight = containerDimensions.height;\n  var topEdgeOffset = top - padding - containerScroll;\n  var bottomEdgeOffset = top + padding - containerScroll + overlayHeight;\n\n  if (topEdgeOffset < 0) {\n    return -topEdgeOffset;\n  } else if (bottomEdgeOffset > containerHeight) {\n    return containerHeight - bottomEdgeOffset;\n  } else {\n    return 0;\n  }\n}\n\nfunction getLeftDelta(left, overlayWidth, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerWidth = containerDimensions.width;\n  var leftEdgeOffset = left - padding;\n  var rightEdgeOffset = left + padding + overlayWidth;\n\n  if (leftEdgeOffset < 0) {\n    return -leftEdgeOffset;\n  } else if (rightEdgeOffset > containerWidth) {\n    return containerWidth - rightEdgeOffset;\n  }\n\n  return 0;\n}\n\nfunction calculatePosition(placement, overlayNode, target, container, padding) {\n  var childOffset = container.tagName === 'BODY' ? (0, _offset2.default)(target) : (0, _position2.default)(target, container);\n\n  var _getOffset2 = (0, _offset2.default)(overlayNode),\n      overlayHeight = _getOffset2.height,\n      overlayWidth = _getOffset2.width;\n\n  var positionLeft = void 0,\n      positionTop = void 0,\n      arrowOffsetLeft = void 0,\n      arrowOffsetTop = void 0;\n\n  if (placement === 'left' || placement === 'right') {\n    positionTop = childOffset.top + (childOffset.height - overlayHeight) / 2;\n\n    if (placement === 'left') {\n      positionLeft = childOffset.left - overlayWidth;\n    } else {\n      positionLeft = childOffset.left + childOffset.width;\n    }\n\n    var topDelta = getTopDelta(positionTop, overlayHeight, container, padding);\n    positionTop += topDelta;\n    arrowOffsetTop = 50 * (1 - 2 * topDelta / overlayHeight) + '%';\n    arrowOffsetLeft = void 0;\n  } else if (placement === 'top' || placement === 'bottom') {\n    positionLeft = childOffset.left + (childOffset.width - overlayWidth) / 2;\n\n    if (placement === 'top') {\n      positionTop = childOffset.top - overlayHeight;\n    } else {\n      positionTop = childOffset.top + childOffset.height;\n    }\n\n    var leftDelta = getLeftDelta(positionLeft, overlayWidth, container, padding);\n    positionLeft += leftDelta;\n    arrowOffsetLeft = 50 * (1 - 2 * leftDelta / overlayWidth) + '%';\n    arrowOffsetTop = void 0;\n  } else {\n    throw new Error('calcOverlayPosition(): No such placement of \"' + placement + '\" found.');\n  }\n\n  return {\n    positionLeft: positionLeft,\n    positionTop: positionTop,\n    arrowOffsetLeft: arrowOffsetLeft,\n    arrowOffsetTop: arrowOffsetTop\n  };\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/skarlso/goprojects/staple/frontend/node_modules/react-overlays/lib/utils/calculatePosition.js"],"names":["exports","__esModule","default","calculatePosition","_offset","require","_offset2","_interopRequireDefault","_position","_position2","_scrollTop","_scrollTop2","_ownerDocument","_ownerDocument2","obj","getContainerDimensions","containerNode","width","height","scroll","tagName","window","innerWidth","innerHeight","documentElement","_getOffset","getTopDelta","top","overlayHeight","container","padding","containerDimensions","containerScroll","containerHeight","topEdgeOffset","bottomEdgeOffset","getLeftDelta","left","overlayWidth","containerWidth","leftEdgeOffset","rightEdgeOffset","placement","overlayNode","target","childOffset","_getOffset2","positionLeft","positionTop","arrowOffsetLeft","arrowOffsetTop","topDelta","leftDelta","Error","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.default = calculatePosition;\n\nvar _offset = require('dom-helpers/query/offset');\n\nvar _offset2 = _interopRequireDefault(_offset);\n\nvar _position = require('dom-helpers/query/position');\n\nvar _position2 = _interopRequireDefault(_position);\n\nvar _scrollTop = require('dom-helpers/query/scrollTop');\n\nvar _scrollTop2 = _interopRequireDefault(_scrollTop);\n\nvar _ownerDocument = require('./ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getContainerDimensions(containerNode) {\n  var width = void 0,\n      height = void 0,\n      scroll = void 0;\n\n  if (containerNode.tagName === 'BODY') {\n    width = window.innerWidth;\n    height = window.innerHeight;\n\n    scroll = (0, _scrollTop2.default)((0, _ownerDocument2.default)(containerNode).documentElement) || (0, _scrollTop2.default)(containerNode);\n  } else {\n    var _getOffset = (0, _offset2.default)(containerNode);\n\n    width = _getOffset.width;\n    height = _getOffset.height;\n\n    scroll = (0, _scrollTop2.default)(containerNode);\n  }\n\n  return { width: width, height: height, scroll: scroll };\n}\n\nfunction getTopDelta(top, overlayHeight, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerScroll = containerDimensions.scroll;\n  var containerHeight = containerDimensions.height;\n\n  var topEdgeOffset = top - padding - containerScroll;\n  var bottomEdgeOffset = top + padding - containerScroll + overlayHeight;\n\n  if (topEdgeOffset < 0) {\n    return -topEdgeOffset;\n  } else if (bottomEdgeOffset > containerHeight) {\n    return containerHeight - bottomEdgeOffset;\n  } else {\n    return 0;\n  }\n}\n\nfunction getLeftDelta(left, overlayWidth, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerWidth = containerDimensions.width;\n\n  var leftEdgeOffset = left - padding;\n  var rightEdgeOffset = left + padding + overlayWidth;\n\n  if (leftEdgeOffset < 0) {\n    return -leftEdgeOffset;\n  } else if (rightEdgeOffset > containerWidth) {\n    return containerWidth - rightEdgeOffset;\n  }\n\n  return 0;\n}\n\nfunction calculatePosition(placement, overlayNode, target, container, padding) {\n  var childOffset = container.tagName === 'BODY' ? (0, _offset2.default)(target) : (0, _position2.default)(target, container);\n\n  var _getOffset2 = (0, _offset2.default)(overlayNode),\n      overlayHeight = _getOffset2.height,\n      overlayWidth = _getOffset2.width;\n\n  var positionLeft = void 0,\n      positionTop = void 0,\n      arrowOffsetLeft = void 0,\n      arrowOffsetTop = void 0;\n\n  if (placement === 'left' || placement === 'right') {\n    positionTop = childOffset.top + (childOffset.height - overlayHeight) / 2;\n\n    if (placement === 'left') {\n      positionLeft = childOffset.left - overlayWidth;\n    } else {\n      positionLeft = childOffset.left + childOffset.width;\n    }\n\n    var topDelta = getTopDelta(positionTop, overlayHeight, container, padding);\n\n    positionTop += topDelta;\n    arrowOffsetTop = 50 * (1 - 2 * topDelta / overlayHeight) + '%';\n    arrowOffsetLeft = void 0;\n  } else if (placement === 'top' || placement === 'bottom') {\n    positionLeft = childOffset.left + (childOffset.width - overlayWidth) / 2;\n\n    if (placement === 'top') {\n      positionTop = childOffset.top - overlayHeight;\n    } else {\n      positionTop = childOffset.top + childOffset.height;\n    }\n\n    var leftDelta = getLeftDelta(positionLeft, overlayWidth, container, padding);\n\n    positionLeft += leftDelta;\n    arrowOffsetLeft = 50 * (1 - 2 * leftDelta / overlayWidth) + '%';\n    arrowOffsetTop = void 0;\n  } else {\n    throw new Error('calcOverlayPosition(): No such placement of \"' + placement + '\" found.');\n  }\n\n  return { positionLeft: positionLeft, positionTop: positionTop, arrowOffsetLeft: arrowOffsetLeft, arrowOffsetTop: arrowOffsetTop };\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}