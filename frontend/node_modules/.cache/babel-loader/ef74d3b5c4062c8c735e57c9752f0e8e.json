{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _activeElement = require('dom-helpers/activeElement');\n\nvar _activeElement2 = _interopRequireDefault(_activeElement);\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _componentOrElement = require('prop-types-extra/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _deprecated = require('prop-types-extra/lib/deprecated');\n\nvar _deprecated2 = _interopRequireDefault(_deprecated);\n\nvar _elementType = require('prop-types-extra/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _RefHolder = require('./RefHolder');\n\nvar _RefHolder2 = _interopRequireDefault(_RefHolder);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _addFocusListener = require('./utils/addFocusListener');\n\nvar _addFocusListener2 = _interopRequireDefault(_addFocusListener);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint-disable react/prop-types */\n\n\nvar modalManager = new _ModalManager2.default();\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\n\nvar Modal = function (_React$Component) {\n  _inherits(Modal, _React$Component);\n\n  function Modal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Modal.prototype.omitProps = function omitProps(props, propTypes) {\n    var keys = Object.keys(props);\n    var newProps = {};\n    keys.map(function (prop) {\n      if (!Object.prototype.hasOwnProperty.call(propTypes, prop)) {\n        newProps[prop] = props[prop];\n      }\n    });\n    return newProps;\n  };\n\n  Modal.prototype.render = function render() {\n    var _props = this.props,\n        show = _props.show,\n        container = _props.container,\n        children = _props.children,\n        Transition = _props.transition,\n        backdrop = _props.backdrop,\n        className = _props.className,\n        style = _props.style,\n        onExit = _props.onExit,\n        onExiting = _props.onExiting,\n        onEnter = _props.onEnter,\n        onEntering = _props.onEntering,\n        onEntered = _props.onEntered;\n\n    var dialog = _react2.default.Children.only(children);\n\n    var filteredProps = this.omitProps(this.props, Modal.propTypes);\n    var mountModal = show || Transition && !this.state.exited;\n\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props,\n        role = _dialog$props.role,\n        tabIndex = _dialog$props.tabIndex;\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = (0, _react.cloneElement)(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2.default.createElement(Transition, {\n        appear: true,\n        unmountOnExit: true,\n        'in': show,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: this.handleHidden,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered\n      }, dialog);\n    }\n\n    return _react2.default.createElement(_Portal2.default, {\n      ref: this.setMountNode,\n      container: container,\n      onRendered: this.onPortalRendered\n    }, _react2.default.createElement('div', _extends({\n      ref: this.setModalNodeRef,\n      role: role || 'dialog'\n    }, filteredProps, {\n      style: style,\n      className: className\n    }), backdrop && this.renderBackdrop(), _react2.default.createElement(_RefHolder2.default, {\n      ref: this.setDialogRef\n    }, dialog)));\n  };\n\n  Modal.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({\n        exited: false\n      });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({\n        exited: true\n      });\n    }\n  };\n\n  Modal.prototype.UNSAFE_componentWillUpdate = function UNSAFE_componentWillUpdate(nextProps) {\n    if (!this.props.show && nextProps.show) {\n      this.checkForFocus();\n    }\n  };\n\n  Modal.prototype.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this.props.show) {\n      this.onShow();\n    }\n  };\n\n  Modal.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  };\n\n  Modal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props2 = this.props,\n        show = _props2.show,\n        transition = _props2.transition;\n    this._isMounted = false;\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  };\n\n  Modal.prototype.autoFocus = function autoFocus() {\n    if (!this.props.autoFocus) {\n      return;\n    }\n\n    var dialogElement = this.getDialogElement();\n    var currentActiveElement = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n\n    if (dialogElement && !(0, _contains2.default)(dialogElement, currentActiveElement)) {\n      this.lastFocus = currentActiveElement;\n\n      if (!dialogElement.hasAttribute('tabIndex')) {\n        (0, _warning2.default)(false, 'The modal content node does not accept focus. For the benefit of ' + 'assistive technologies, the tabIndex of the node is being set ' + 'to \"-1\".');\n        dialogElement.setAttribute('tabIndex', -1);\n      }\n\n      dialogElement.focus();\n    }\n  };\n\n  Modal.prototype.restoreLastFocus = function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  };\n\n  Modal.prototype.getDialogElement = function getDialogElement() {\n    return _reactDom2.default.findDOMNode(this.dialog);\n  };\n\n  Modal.prototype.isTopModal = function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  };\n\n  return Modal;\n}(_react2.default.Component);\n\nModal.propTypes = _extends({}, _Portal2.default.propTypes, {\n  /**\n   * Set the visibility of the Modal\n   */\n  show: _propTypes2.default.bool,\n\n  /**\n   * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n   *\n   * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n   * page content can be placed behind a virtual backdrop as well as a visual one.\n   */\n  container: _propTypes2.default.oneOfType([_componentOrElement2.default, _propTypes2.default.func]),\n\n  /**\n   * A callback fired when the Modal is opening.\n   */\n  onShow: _propTypes2.default.func,\n\n  /**\n   * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n   *\n   * The `onHide` callback only signals intent from the Modal,\n   * you must actually set the `show` prop to `false` for the Modal to close.\n   */\n  onHide: _propTypes2.default.func,\n\n  /**\n   * Include a backdrop component.\n   */\n  backdrop: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.oneOf(['static'])]),\n\n  /**\n   * A function that returns a backdrop component. Useful for custom\n   * backdrop rendering.\n   *\n   * ```js\n   *  renderBackdrop={props => <MyBackdrop {...props} />}\n   * ```\n   */\n  renderBackdrop: _propTypes2.default.func,\n\n  /**\n   * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n   */\n  onEscapeKeyDown: _propTypes2.default.func,\n\n  /**\n   * Support for this function will be deprecated. Please use `onEscapeKeyDown` instead\n   * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n   * @deprecated\n   */\n  onEscapeKeyUp: (0, _deprecated2.default)(_propTypes2.default.func, 'Please use onEscapeKeyDown instead for consistency'),\n\n  /**\n   * A callback fired when the backdrop, if specified, is clicked.\n   */\n  onBackdropClick: _propTypes2.default.func,\n\n  /**\n   * A style object for the backdrop component.\n   */\n  backdropStyle: _propTypes2.default.object,\n\n  /**\n   * A css class or classes for the backdrop component.\n   */\n  backdropClassName: _propTypes2.default.string,\n\n  /**\n   * A css class or set of classes applied to the modal container when the modal is open,\n   * and removed when it is closed.\n   */\n  containerClassName: _propTypes2.default.string,\n\n  /**\n   * Close the modal when escape key is pressed\n   */\n  keyboard: _propTypes2.default.bool,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the dialog component.\n   */\n  transition: _elementType2.default,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the backdrop components.\n   */\n  backdropTransition: _elementType2.default,\n\n  /**\n   * When `true` The modal will automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes. This also\n   * works correctly with any Modal children that have the `autoFocus` prop.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  autoFocus: _propTypes2.default.bool,\n\n  /**\n   * When `true` The modal will prevent focus from leaving the Modal while open.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  enforceFocus: _propTypes2.default.bool,\n\n  /**\n   * When `true` The modal will restore focus to previously focused element once\n   * modal is hidden\n   */\n  restoreFocus: _propTypes2.default.bool,\n\n  /**\n   * Callback fired before the Modal transitions in\n   */\n  onEnter: _propTypes2.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition in\n   */\n  onEntering: _propTypes2.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning in\n   */\n  onEntered: _propTypes2.default.func,\n\n  /**\n   * Callback fired right before the Modal transitions out\n   */\n  onExit: _propTypes2.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition out\n   */\n  onExiting: _propTypes2.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning out\n   */\n  onExited: _propTypes2.default.func,\n\n  /**\n   * A ModalManager instance used to track and manage the state of open\n   * Modals. Useful when customizing how modals interact within a container\n   */\n  manager: _propTypes2.default.object.isRequired\n});\nModal.defaultProps = {\n  show: false,\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  restoreFocus: true,\n  onHide: function onHide() {},\n  manager: modalManager,\n  renderBackdrop: function renderBackdrop(props) {\n    return _react2.default.createElement('div', props);\n  }\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.state = {\n    exited: !this.props.show\n  };\n\n  this.renderBackdrop = function () {\n    var _props3 = _this2.props,\n        backdropStyle = _props3.backdropStyle,\n        backdropClassName = _props3.backdropClassName,\n        renderBackdrop = _props3.renderBackdrop,\n        Transition = _props3.backdropTransition;\n\n    var backdropRef = function backdropRef(ref) {\n      return _this2.backdrop = ref;\n    };\n\n    var backdrop = renderBackdrop({\n      ref: backdropRef,\n      style: backdropStyle,\n      className: backdropClassName,\n      onClick: _this2.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2.default.createElement(Transition, {\n        appear: true,\n        'in': _this2.props.show\n      }, backdrop);\n    }\n\n    return backdrop;\n  };\n\n  this.onPortalRendered = function () {\n    _this2.autoFocus();\n\n    if (_this2.props.onShow) {\n      _this2.props.onShow();\n    }\n  };\n\n  this.onShow = function () {\n    var doc = (0, _ownerDocument2.default)(_this2);\n    var container = (0, _getContainer2.default)(_this2.props.container, doc.body);\n\n    _this2.props.manager.add(_this2, container, _this2.props.containerClassName);\n\n    _this2._onDocumentKeydownListener = (0, _addEventListener2.default)(doc, 'keydown', _this2.handleDocumentKeyDown);\n    _this2._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', _this2.handleDocumentKeyUp);\n    _this2._onFocusinListener = (0, _addFocusListener2.default)(_this2.enforceFocus);\n  };\n\n  this.onHide = function () {\n    _this2.props.manager.remove(_this2);\n\n    _this2._onDocumentKeydownListener.remove();\n\n    _this2._onDocumentKeyupListener.remove();\n\n    _this2._onFocusinListener.remove();\n\n    if (_this2.props.restoreFocus) {\n      _this2.restoreLastFocus();\n    }\n  };\n\n  this.setMountNode = function (ref) {\n    _this2.mountNode = ref ? ref.getMountNode() : ref;\n  };\n\n  this.setModalNodeRef = function (ref) {\n    _this2.modalNode = ref;\n  };\n\n  this.setDialogRef = function (ref) {\n    _this2.dialog = ref;\n  };\n\n  this.handleHidden = function () {\n    _this2.setState({\n      exited: true\n    });\n\n    _this2.onHide();\n\n    if (_this2.props.onExited) {\n      var _props4;\n\n      (_props4 = _this2.props).onExited.apply(_props4, arguments);\n    }\n  };\n\n  this.handleBackdropClick = function (e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (_this2.props.onBackdropClick) {\n      _this2.props.onBackdropClick(e);\n    }\n\n    if (_this2.props.backdrop === true) {\n      _this2.props.onHide();\n    }\n  };\n\n  this.handleDocumentKeyDown = function (e) {\n    if (_this2.props.keyboard && e.keyCode === 27 && _this2.isTopModal()) {\n      if (_this2.props.onEscapeKeyDown) {\n        _this2.props.onEscapeKeyDown(e);\n      }\n\n      _this2.props.onHide();\n    }\n  };\n\n  this.handleDocumentKeyUp = function (e) {\n    if (_this2.props.keyboard && e.keyCode === 27 && _this2.isTopModal()) {\n      if (_this2.props.onEscapeKeyUp) {\n        _this2.props.onEscapeKeyUp(e);\n      }\n    }\n  };\n\n  this.checkForFocus = function () {\n    if (_inDOM2.default) {\n      _this2.lastFocus = (0, _activeElement2.default)();\n    }\n  };\n\n  this.enforceFocus = function () {\n    if (!_this2.props.enforceFocus || !_this2._isMounted || !_this2.isTopModal()) {\n      return;\n    }\n\n    var dialogElement = _this2.getDialogElement();\n\n    var currentActiveElement = (0, _activeElement2.default)((0, _ownerDocument2.default)(_this2));\n\n    if (dialogElement && !(0, _contains2.default)(dialogElement, currentActiveElement)) {\n      dialogElement.focus();\n    }\n  };\n};\n\nModal.Manager = _ModalManager2.default;\nexports.default = Modal;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/skarlso/goprojects/staple/frontend/react-api/node_modules/react-overlays/lib/Modal.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_activeElement","require","_activeElement2","_interopRequireDefault","_contains","_contains2","_inDOM","_inDOM2","_propTypes","_propTypes2","_componentOrElement","_componentOrElement2","_deprecated","_deprecated2","_elementType","_elementType2","_react","_react2","_reactDom","_reactDom2","_warning","_warning2","_ModalManager","_ModalManager2","_Portal","_Portal2","_RefHolder","_RefHolder2","_addEventListener","_addEventListener2","_addFocusListener","_addFocusListener2","_getContainer","_getContainer2","_ownerDocument","_ownerDocument2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","modalManager","Modal","_React$Component","_temp","_this","_ret","_len","args","Array","_key","apply","concat","_initialiseProps","omitProps","props","propTypes","keys","newProps","map","prop","render","_props","show","container","children","Transition","transition","backdrop","className","style","onExit","onExiting","onEnter","onEntering","onEntered","dialog","Children","only","filteredProps","mountModal","state","exited","_dialog$props","role","tabIndex","undefined","cloneElement","createElement","appear","unmountOnExit","onExited","handleHidden","ref","setMountNode","onRendered","onPortalRendered","setModalNodeRef","renderBackdrop","setDialogRef","UNSAFE_componentWillReceiveProps","nextProps","setState","UNSAFE_componentWillUpdate","checkForFocus","componentDidMount","_isMounted","onShow","componentDidUpdate","prevProps","onHide","componentWillUnmount","_props2","autoFocus","dialogElement","getDialogElement","currentActiveElement","lastFocus","hasAttribute","setAttribute","focus","restoreLastFocus","findDOMNode","isTopModal","manager","Component","bool","oneOfType","func","oneOf","onEscapeKeyDown","onEscapeKeyUp","onBackdropClick","backdropStyle","object","backdropClassName","string","containerClassName","keyboard","backdropTransition","enforceFocus","restoreFocus","isRequired","defaultProps","_this2","_props3","backdropRef","onClick","handleBackdropClick","doc","body","add","_onDocumentKeydownListener","handleDocumentKeyDown","_onDocumentKeyupListener","handleDocumentKeyUp","_onFocusinListener","remove","mountNode","getMountNode","modalNode","_props4","e","currentTarget","keyCode","Manager","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _activeElement = require('dom-helpers/activeElement');\n\nvar _activeElement2 = _interopRequireDefault(_activeElement);\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _componentOrElement = require('prop-types-extra/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _deprecated = require('prop-types-extra/lib/deprecated');\n\nvar _deprecated2 = _interopRequireDefault(_deprecated);\n\nvar _elementType = require('prop-types-extra/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _RefHolder = require('./RefHolder');\n\nvar _RefHolder2 = _interopRequireDefault(_RefHolder);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _addFocusListener = require('./utils/addFocusListener');\n\nvar _addFocusListener2 = _interopRequireDefault(_addFocusListener);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable react/prop-types */\n\nvar modalManager = new _ModalManager2.default();\n\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\n\nvar Modal = function (_React$Component) {\n  _inherits(Modal, _React$Component);\n\n  function Modal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Modal.prototype.omitProps = function omitProps(props, propTypes) {\n\n    var keys = Object.keys(props);\n    var newProps = {};\n    keys.map(function (prop) {\n      if (!Object.prototype.hasOwnProperty.call(propTypes, prop)) {\n        newProps[prop] = props[prop];\n      }\n    });\n\n    return newProps;\n  };\n\n  Modal.prototype.render = function render() {\n    var _props = this.props,\n        show = _props.show,\n        container = _props.container,\n        children = _props.children,\n        Transition = _props.transition,\n        backdrop = _props.backdrop,\n        className = _props.className,\n        style = _props.style,\n        onExit = _props.onExit,\n        onExiting = _props.onExiting,\n        onEnter = _props.onEnter,\n        onEntering = _props.onEntering,\n        onEntered = _props.onEntered;\n\n\n    var dialog = _react2.default.Children.only(children);\n    var filteredProps = this.omitProps(this.props, Modal.propTypes);\n\n    var mountModal = show || Transition && !this.state.exited;\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props,\n        role = _dialog$props.role,\n        tabIndex = _dialog$props.tabIndex;\n\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = (0, _react.cloneElement)(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2.default.createElement(\n        Transition,\n        {\n          appear: true,\n          unmountOnExit: true,\n          'in': show,\n          onExit: onExit,\n          onExiting: onExiting,\n          onExited: this.handleHidden,\n          onEnter: onEnter,\n          onEntering: onEntering,\n          onEntered: onEntered\n        },\n        dialog\n      );\n    }\n\n    return _react2.default.createElement(\n      _Portal2.default,\n      {\n        ref: this.setMountNode,\n        container: container,\n        onRendered: this.onPortalRendered\n      },\n      _react2.default.createElement(\n        'div',\n        _extends({\n          ref: this.setModalNodeRef,\n          role: role || 'dialog'\n        }, filteredProps, {\n          style: style,\n          className: className\n        }),\n        backdrop && this.renderBackdrop(),\n        _react2.default.createElement(\n          _RefHolder2.default,\n          { ref: this.setDialogRef },\n          dialog\n        )\n      )\n    );\n  };\n\n  Modal.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({ exited: false });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({ exited: true });\n    }\n  };\n\n  Modal.prototype.UNSAFE_componentWillUpdate = function UNSAFE_componentWillUpdate(nextProps) {\n    if (!this.props.show && nextProps.show) {\n      this.checkForFocus();\n    }\n  };\n\n  Modal.prototype.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n    if (this.props.show) {\n      this.onShow();\n    }\n  };\n\n  Modal.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  };\n\n  Modal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props2 = this.props,\n        show = _props2.show,\n        transition = _props2.transition;\n\n\n    this._isMounted = false;\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  };\n\n  Modal.prototype.autoFocus = function autoFocus() {\n    if (!this.props.autoFocus) {\n      return;\n    }\n\n    var dialogElement = this.getDialogElement();\n    var currentActiveElement = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n\n    if (dialogElement && !(0, _contains2.default)(dialogElement, currentActiveElement)) {\n      this.lastFocus = currentActiveElement;\n\n      if (!dialogElement.hasAttribute('tabIndex')) {\n        (0, _warning2.default)(false, 'The modal content node does not accept focus. For the benefit of ' + 'assistive technologies, the tabIndex of the node is being set ' + 'to \"-1\".');\n\n        dialogElement.setAttribute('tabIndex', -1);\n      }\n\n      dialogElement.focus();\n    }\n  };\n\n  Modal.prototype.restoreLastFocus = function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  };\n\n  Modal.prototype.getDialogElement = function getDialogElement() {\n    return _reactDom2.default.findDOMNode(this.dialog);\n  };\n\n  Modal.prototype.isTopModal = function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  };\n\n  return Modal;\n}(_react2.default.Component);\n\nModal.propTypes = _extends({}, _Portal2.default.propTypes, {\n\n  /**\n   * Set the visibility of the Modal\n   */\n  show: _propTypes2.default.bool,\n\n  /**\n   * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n   *\n   * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n   * page content can be placed behind a virtual backdrop as well as a visual one.\n   */\n  container: _propTypes2.default.oneOfType([_componentOrElement2.default, _propTypes2.default.func]),\n\n  /**\n   * A callback fired when the Modal is opening.\n   */\n  onShow: _propTypes2.default.func,\n\n  /**\n   * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n   *\n   * The `onHide` callback only signals intent from the Modal,\n   * you must actually set the `show` prop to `false` for the Modal to close.\n   */\n  onHide: _propTypes2.default.func,\n\n  /**\n   * Include a backdrop component.\n   */\n  backdrop: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.oneOf(['static'])]),\n\n  /**\n   * A function that returns a backdrop component. Useful for custom\n   * backdrop rendering.\n   *\n   * ```js\n   *  renderBackdrop={props => <MyBackdrop {...props} />}\n   * ```\n   */\n  renderBackdrop: _propTypes2.default.func,\n\n  /**\n   * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n   */\n  onEscapeKeyDown: _propTypes2.default.func,\n\n  /**\n   * Support for this function will be deprecated. Please use `onEscapeKeyDown` instead\n   * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n   * @deprecated\n   */\n  onEscapeKeyUp: (0, _deprecated2.default)(_propTypes2.default.func, 'Please use onEscapeKeyDown instead for consistency'),\n\n  /**\n   * A callback fired when the backdrop, if specified, is clicked.\n   */\n  onBackdropClick: _propTypes2.default.func,\n\n  /**\n   * A style object for the backdrop component.\n   */\n  backdropStyle: _propTypes2.default.object,\n\n  /**\n   * A css class or classes for the backdrop component.\n   */\n  backdropClassName: _propTypes2.default.string,\n\n  /**\n   * A css class or set of classes applied to the modal container when the modal is open,\n   * and removed when it is closed.\n   */\n  containerClassName: _propTypes2.default.string,\n\n  /**\n   * Close the modal when escape key is pressed\n   */\n  keyboard: _propTypes2.default.bool,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the dialog component.\n   */\n  transition: _elementType2.default,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the backdrop components.\n   */\n  backdropTransition: _elementType2.default,\n\n  /**\n   * When `true` The modal will automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes. This also\n   * works correctly with any Modal children that have the `autoFocus` prop.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  autoFocus: _propTypes2.default.bool,\n\n  /**\n   * When `true` The modal will prevent focus from leaving the Modal while open.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  enforceFocus: _propTypes2.default.bool,\n\n  /**\n   * When `true` The modal will restore focus to previously focused element once\n   * modal is hidden\n   */\n  restoreFocus: _propTypes2.default.bool,\n\n  /**\n   * Callback fired before the Modal transitions in\n   */\n  onEnter: _propTypes2.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition in\n   */\n  onEntering: _propTypes2.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning in\n   */\n  onEntered: _propTypes2.default.func,\n\n  /**\n   * Callback fired right before the Modal transitions out\n   */\n  onExit: _propTypes2.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition out\n   */\n  onExiting: _propTypes2.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning out\n   */\n  onExited: _propTypes2.default.func,\n\n  /**\n   * A ModalManager instance used to track and manage the state of open\n   * Modals. Useful when customizing how modals interact within a container\n   */\n  manager: _propTypes2.default.object.isRequired\n});\nModal.defaultProps = {\n  show: false,\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  restoreFocus: true,\n  onHide: function onHide() {},\n  manager: modalManager,\n  renderBackdrop: function renderBackdrop(props) {\n    return _react2.default.createElement('div', props);\n  }\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.state = { exited: !this.props.show };\n\n  this.renderBackdrop = function () {\n    var _props3 = _this2.props,\n        backdropStyle = _props3.backdropStyle,\n        backdropClassName = _props3.backdropClassName,\n        renderBackdrop = _props3.renderBackdrop,\n        Transition = _props3.backdropTransition;\n\n\n    var backdropRef = function backdropRef(ref) {\n      return _this2.backdrop = ref;\n    };\n\n    var backdrop = renderBackdrop({\n      ref: backdropRef,\n      style: backdropStyle,\n      className: backdropClassName,\n      onClick: _this2.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2.default.createElement(\n        Transition,\n        {\n          appear: true,\n          'in': _this2.props.show\n        },\n        backdrop\n      );\n    }\n\n    return backdrop;\n  };\n\n  this.onPortalRendered = function () {\n    _this2.autoFocus();\n\n    if (_this2.props.onShow) {\n      _this2.props.onShow();\n    }\n  };\n\n  this.onShow = function () {\n    var doc = (0, _ownerDocument2.default)(_this2);\n    var container = (0, _getContainer2.default)(_this2.props.container, doc.body);\n\n    _this2.props.manager.add(_this2, container, _this2.props.containerClassName);\n\n    _this2._onDocumentKeydownListener = (0, _addEventListener2.default)(doc, 'keydown', _this2.handleDocumentKeyDown);\n\n    _this2._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', _this2.handleDocumentKeyUp);\n\n    _this2._onFocusinListener = (0, _addFocusListener2.default)(_this2.enforceFocus);\n  };\n\n  this.onHide = function () {\n    _this2.props.manager.remove(_this2);\n\n    _this2._onDocumentKeydownListener.remove();\n\n    _this2._onDocumentKeyupListener.remove();\n\n    _this2._onFocusinListener.remove();\n\n    if (_this2.props.restoreFocus) {\n      _this2.restoreLastFocus();\n    }\n  };\n\n  this.setMountNode = function (ref) {\n    _this2.mountNode = ref ? ref.getMountNode() : ref;\n  };\n\n  this.setModalNodeRef = function (ref) {\n    _this2.modalNode = ref;\n  };\n\n  this.setDialogRef = function (ref) {\n    _this2.dialog = ref;\n  };\n\n  this.handleHidden = function () {\n    _this2.setState({ exited: true });\n    _this2.onHide();\n\n    if (_this2.props.onExited) {\n      var _props4;\n\n      (_props4 = _this2.props).onExited.apply(_props4, arguments);\n    }\n  };\n\n  this.handleBackdropClick = function (e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (_this2.props.onBackdropClick) {\n      _this2.props.onBackdropClick(e);\n    }\n\n    if (_this2.props.backdrop === true) {\n      _this2.props.onHide();\n    }\n  };\n\n  this.handleDocumentKeyDown = function (e) {\n    if (_this2.props.keyboard && e.keyCode === 27 && _this2.isTopModal()) {\n      if (_this2.props.onEscapeKeyDown) {\n        _this2.props.onEscapeKeyDown(e);\n      }\n\n      _this2.props.onHide();\n    }\n  };\n\n  this.handleDocumentKeyUp = function (e) {\n    if (_this2.props.keyboard && e.keyCode === 27 && _this2.isTopModal()) {\n      if (_this2.props.onEscapeKeyUp) {\n        _this2.props.onEscapeKeyUp(e);\n      }\n    }\n  };\n\n  this.checkForFocus = function () {\n    if (_inDOM2.default) {\n      _this2.lastFocus = (0, _activeElement2.default)();\n    }\n  };\n\n  this.enforceFocus = function () {\n    if (!_this2.props.enforceFocus || !_this2._isMounted || !_this2.isTopModal()) {\n      return;\n    }\n\n    var dialogElement = _this2.getDialogElement();\n    var currentActiveElement = (0, _activeElement2.default)((0, _ownerDocument2.default)(_this2));\n\n    if (dialogElement && !(0, _contains2.default)(dialogElement, currentActiveElement)) {\n      dialogElement.focus();\n    }\n  };\n};\n\nModal.Manager = _ModalManager2.default;\n\nexports.default = Modal;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}